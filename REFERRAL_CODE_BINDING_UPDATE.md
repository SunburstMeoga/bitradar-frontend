# æ¨èç ç»‘å®šåŠŸèƒ½æ›´æ–°

## ğŸ“‹ æ›´æ–°å†…å®¹

### 1. æ–‡æ¡ˆä¿®æ”¹ âœ…

**å¤šè¯­è¨€æ–‡ä»¶æ›´æ–°ï¼š**
- `src/i18n/locales/zh.json`
- `src/i18n/locales/en.json` 
- `src/i18n/locales/ko.json`

**ä¿®æ”¹å†…å®¹ï¼š**
- "æ¨èåœ°å€" â†’ "æ¨èç "
- "Referrer Address" â†’ "Referral Code"
- "ì¶”ì²œì¸ ì£¼ì†Œ" â†’ "ì¶”ì²œ ì½”ë“œ"
- æ–°å¢ "Type or Paste æ¨èç " çš„å¤šè¯­è¨€æ”¯æŒ

### 2. APIæ¥å£æ›´æ–° âœ…

**æ–°å¢æ–¹æ³•ï¼š**
- `referralService.bindReferral(referralCode, walletAddress)`
  - è°ƒç”¨ `/api/v1/referral/bind` æ¥å£
  - å‚æ•°ï¼š`referral_code` å’Œ `wallet_address`

**æ–¹æ³•é‡æ„ï¼š**
- `referralService.useInviteCode(inviteCode, walletAddress)` 
  - ç°åœ¨å†…éƒ¨è°ƒç”¨ `bindReferral` æ–¹æ³•
  - ä¿æŒå‘åå…¼å®¹æ€§

### 3. ç»„ä»¶æ›´æ–° âœ…

**AddReferrerCard ç»„ä»¶ä¿®æ”¹ï¼š**
- å¯¼å…¥ `useWeb3Store` è·å–é’±åŒ…åœ°å€
- æ›´æ–°æç¤ºæ–‡æ¡ˆä½¿ç”¨å¤šè¯­è¨€
- ä¼ å…¥é’±åŒ…åœ°å€å‚æ•°åˆ° API è°ƒç”¨
- æ›´æ–°æ‰€æœ‰é”™è¯¯å’ŒæˆåŠŸæ¶ˆæ¯çš„å¤šè¯­è¨€

**æ–°å¢å¤šè¯­è¨€é”®ï¼š**
```json
{
  "type_or": "è¾“å…¥æˆ–",
  "paste": "ç²˜è´´", 
  "referral_code_text": "æ¨èç ",
  "invalid_referral_code": "æ¨èç æ— æ•ˆ",
  "validation_failed": "éªŒè¯å¤±è´¥",
  "please_enter_valid_referral_code": "è¯·è¾“å…¥æœ‰æ•ˆçš„æ¨èç ",
  "please_connect_wallet_first": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "referral_bind_success": "æˆåŠŸç»‘å®šæ¨èå…³ç³»ï¼",
  "referral_bind_failed": "ç»‘å®šæ¨èå…³ç³»å¤±è´¥",
  "validating": "éªŒè¯ä¸­...",
  "valid_referral_code": "æœ‰æ•ˆæ¨èç "
}
```

## ğŸ”§ æŠ€æœ¯å®ç°

### API è¯·æ±‚æ ¼å¼

```javascript
// æ–°çš„ç»‘å®šæ¥å£è°ƒç”¨
POST /api/v1/referral/bind
{
  "referral_code": "ABC123",
  "wallet_address": "0x1234...abcd"
}
```

### å“åº”æ ¼å¼
```javascript
{
  "success": true,
  "data": {
    "referral_relationship": {
      "referrer_id": 100,
      "referee_id": 200,
      "referral_code": "ABC123",
      "created_at": "2024-01-15T11:00:00Z",
      "status": "active"
    },
    "referrer_info": {
      "user_id": 100,
      "vip_level": 3,
      "total_referrals": 12
    }
  }
}
```

## ğŸ§ª æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•
1. **é’±åŒ…è¿æ¥æ£€æŸ¥**
   - æœªè¿æ¥é’±åŒ…æ—¶æ˜¾ç¤ºé”™è¯¯æç¤º
   - è¿æ¥é’±åŒ…åå¯æ­£å¸¸è¾“å…¥æ¨èç 

2. **æ¨èç éªŒè¯**
   - è¾“å…¥æ— æ•ˆæ¨èç æ˜¾ç¤ºé”™è¯¯
   - è¾“å…¥æœ‰æ•ˆæ¨èç æ˜¾ç¤ºæˆåŠŸçŠ¶æ€
   - æ˜¾ç¤ºæ¨èäººVIPç­‰çº§ä¿¡æ¯

3. **ç»‘å®šæµç¨‹**
   - æˆåŠŸç»‘å®šåæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
   - ç»‘å®šå¤±è´¥æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
   - ç»‘å®šæˆåŠŸåè§¦å‘ `onSuccess` å›è°ƒ

4. **å¤šè¯­è¨€æ”¯æŒ**
   - ä¸­æ–‡ã€è‹±æ–‡ã€éŸ©æ–‡ç•Œé¢æ­£ç¡®æ˜¾ç¤º
   - æ‰€æœ‰æç¤ºæ¶ˆæ¯æ”¯æŒå¤šè¯­è¨€

### UIæµ‹è¯•
1. **å“åº”å¼è®¾è®¡**
   - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯æ­£ç¡®æ˜¾ç¤º
   - è¾“å…¥æ¡†å’ŒæŒ‰é’®é€‚é…ä¸åŒå±å¹•

2. **äº¤äº’ä½“éªŒ**
   - ç²˜è´´åŠŸèƒ½æ­£å¸¸å·¥ä½œ
   - éªŒè¯çŠ¶æ€å®æ—¶æ˜¾ç¤º
   - åŠ è½½çŠ¶æ€æ­£ç¡®æ˜¾ç¤º

## ğŸš€ éƒ¨ç½²è¯´æ˜

1. ç¡®ä¿åç«¯ `/api/v1/referral/bind` æ¥å£å·²å®ç°
2. æµ‹è¯•æ‰€æœ‰è¯­è¨€ç¯å¢ƒä¸‹çš„åŠŸèƒ½
3. éªŒè¯é’±åŒ…è¿æ¥å’Œæ¨èç ç»‘å®šæµç¨‹
4. æ£€æŸ¥é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

## ğŸ“ æ³¨æ„äº‹é¡¹

- ä¿æŒäº†åŸæœ‰ `useInviteCode` æ–¹æ³•çš„å‘åå…¼å®¹æ€§
- æ–°å¢çš„ `bindReferral` æ–¹æ³•å¯ä»¥ç‹¬ç«‹ä½¿ç”¨
- æ‰€æœ‰ç”¨æˆ·æç¤ºæ¶ˆæ¯éƒ½æ”¯æŒå¤šè¯­è¨€
- é’±åŒ…åœ°å€ä»å½“å‰è¿æ¥çš„é’±åŒ…è‡ªåŠ¨è·å–
