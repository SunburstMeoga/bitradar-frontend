<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试钱包功能</title>
</head>
<body>
    <h1>钱包功能测试</h1>
    
    <h2>测试场景：</h2>
    <ol>
        <li>
            <strong>测试有推荐人的情况：</strong>
            <br>
            <a href="http://localhost:5173/?ref=0xABCDEF1234567890ABCDEF1234567890ABCDEF12" target="_blank">
                打开带推荐人参数的链接
            </a>
            <br>
            <small>应该在钱包弹窗中看到推荐人地址：0xABCD...F12（前4位+后4位）</small>
        </li>

        <li>
            <strong>测试无推荐人的情况：</strong>
            <br>
            <a href="http://localhost:5173/" target="_blank">
                打开无推荐人参数的链接
            </a>
            <br>
            <small>应该在钱包弹窗中看到"添加推荐地址"，右侧是箭头而不是复制按钮</small>
        </li>
        
        <li>
            <strong>测试弹窗高度自适应：</strong>
            <br>
            连接钱包后打开弹窗，检查：
            <ul>
                <li>弹窗高度不超过页面70%</li>
                <li>内容可以滚动（如果超出高度）</li>
                <li>滚动条被隐藏</li>
                <li>底部padding为20px</li>
            </ul>
        </li>
        
        <li>
            <strong>测试复制功能：</strong>
            <ul>
                <li>点击推荐人地址旁的复制按钮，应该复制完整推荐人地址并显示Toast提示</li>
                <li>点击"生成推荐链接"，应该生成并复制推荐链接并显示Toast提示</li>
                <li>点击头像下方的地址复制按钮，应该复制钱包地址并显示Toast提示</li>
            </ul>
        </li>

        <li>
            <strong>测试菜单项：</strong>
            <ul>
                <li>Send和Activity菜单项应该被隐藏</li>
                <li>有推荐人时：显示"推荐人"，右侧显示地址和复制按钮</li>
                <li>无推荐人时：显示"添加推荐地址"，右侧显示箭头</li>
                <li>生成推荐链接菜单项应该在推荐人下面</li>
            </ul>
        </li>

        <li>
            <strong>测试添加推荐人弹窗：</strong>
            <ul>
                <li>无推荐人时，点击"添加推荐地址"应该滑动到添加推荐人弹窗</li>
                <li>弹窗标题应该是"加入BitRadar社区"</li>
                <li>弹窗样式应该与Send弹窗保持一致</li>
                <li>可以输入推荐人地址或粘贴</li>
                <li>点击"确认"后应该跳转到带推荐人参数的URL</li>
                <li>点击"暂时跳过"应该返回钱包主页</li>
            </ul>
        </li>

        <li>
            <strong>测试地址格式：</strong>
            <ul>
                <li>钱包地址应该显示为：0x1234....abcd（前4位+后4位，不包括0x在计算中）</li>
                <li>推荐人地址应该显示为：0x1234....abcd（前4位+后4位，不包括0x在计算中）</li>
            </ul>
        </li>
    </ol>
    
    <h2>操作步骤：</h2>
    <ol>
        <li>点击上面的链接打开应用</li>
        <li>连接MetaMask钱包</li>
        <li>点击右上角的钱包地址按钮打开弹窗</li>
        <li>测试各项功能</li>
    </ol>
    
    <h2>预期结果：</h2>
    <ul>
        <li>✅ 弹窗高度自适应，最大不超过70vh</li>
        <li>✅ 内容可滚动，滚动条隐藏</li>
        <li>✅ 地址格式正确：前4位+后4位（不包括0x）</li>
        <li>✅ 有推荐人时：显示推荐人地址和复制按钮</li>
        <li>✅ 无推荐人时：显示"添加推荐地址"和箭头</li>
        <li>✅ 点击"添加推荐地址"滑动到添加推荐人弹窗</li>
        <li>✅ 添加推荐人弹窗样式与Send弹窗一致</li>
        <li>✅ 生成推荐链接功能正常</li>
        <li>✅ 所有复制功能都有Toast提示</li>
        <li>✅ Send和Activity菜单项被隐藏</li>
    </ul>
</body>
</html>
